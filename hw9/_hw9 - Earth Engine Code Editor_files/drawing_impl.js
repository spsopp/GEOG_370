google.maps.__gjsload__('drawing_impl', function(_){var ngb=function(a){if(!a.g){var b={};_.Xf(b,a.get("options"));null==b.zIndex&&(b.zIndex=a.N());delete b.map;a.g=a.m.Pw(b)}},f$=function(a,b,c){a.g&&(a.h&&a.i?(a.g.get("map")||a.g.bindTo("map",a),a.m.Sv(a.g,a.h,b,c.g<a.i.g)):a.m.Sv(a.g,b))},ogb=function(a,b,c){f$(a,b,c);b=a.g.get("map");c=a.g;c.unbind("map");a.g=null;_.mh(a,"overlaycomplete",{type:a.m.yx(),overlay:c});_.mh(a,a.m.vx(),c);_.hi(b,"DMsim");_.fi(b,147922);a.h=null;a.i=null;a.l=!1},pgb=function(a){if(!a.g){var b={};_.Xf(b,a.get("options"));
delete b.map;a.g=new _.Ei(b)}},qgb=function(a){const b=a.get("options");var c=new _.ph;c.setValues(b);var d=new _.IF(c,a.h);c={};_.Xf(c,b);c.strokeColor=d.get("strokeColor");c.strokeOpacity=d.get("strokeOpacity");c.strokeWeight=d.get("strokeWeight");null==c.zIndex&&(c.zIndex=a.l());delete c.path;delete c.map;const e=new _.uk(c);e.bindTo("map",a);c.strokeOpacity=d.get("ghostStrokeOpacity");d=new _.EG;d.setValues(c);d.set("anchors",[]);d.bindTo("map",a);var f=null;a.h&&(f={},_.Xf(f,b),f.zIndex=c.zIndex,
f.paths=new _.Vi([e.getPath()]),delete f.map,f=new _.tk(f));a.g={polyline:e,vu:f,fh:d};g$(a)},rgb=function(a){const b=a.get("map"),c=a.g.polyline;c.unbind("map");const d=a.g.vu;a.g.fh.unbind("map");a.g.fh.set("map",null);a.g=null;a.set("draggableCursor",a.i);c.getPath().getLength()?(a.h?(c.set("map",null),d.set("map",b),_.mh(a,"overlaycomplete",{type:"polygon",overlay:d}),_.mh(a,"polygoncomplete",d)):(_.mh(a,"overlaycomplete",{type:"polyline",overlay:c}),_.mh(a,"polylinecomplete",c)),_.hi(b,"DMpol"),
_.fi(b,147921),g$(a)):c.set("map",null)},h$=function(a,b){a.g.polyline.getPath().push(b);a.g.fh.set("anchors",[b])},sgb=function(a,b){var c=a.g.polyline.getPath(),d=c.getLength();if(d){var e=a.get("map");const g=e.get("projection");e=e.__gm.get("zoom");e=a.m/(1<<e);const k=g.fromLatLngToPoint(b,a.R);b=b.lng();d=c.getAt(d-1);var f=new _.Dg(d.lat(),_.Zf(d.lng(),b-180,b+180),!0);f=g.fromLatLngToPoint(f,a.K);if(Math.abs(k.x-f.x)<=e&&Math.abs(k.y-f.y)<=e)return{type:1,latLng:d};c=c.getAt(0);b=new _.Dg(c.lat(),
_.Zf(c.lng(),b-180,b+180),!0);a=g.fromLatLngToPoint(b,a.N);if(Math.abs(k.x-a.x)<=e&&Math.abs(k.y-a.y)<=e)return{type:2,latLng:c}}return null},tgb=function(a,b){const c=sgb(a,b);c?(a.h||2!=c.type||h$(a,c.latLng),rgb(a)):h$(a,b)},g$=function(a){a.set("enablePanning",!!a.g&&a.get("drawPolysWithDrag")&&!a.get("panWhileDrawing"))},ugb=function(){let a=0;return function(){return a++}},wgb=function(a){var b="click dblclick movestart move moveend panbynow mousewheel mousemove".split(" ");const c=new _.DF(b);
let d=!1;_.yb(b,e=>{_.bh(c,e,(f,g)=>{const k=f instanceof _.gp,m=k?f.La:f;if("click"==e||"dblclick"==e||"mousemove"==e)k?("click"==e&&_.fo(f.La),"dblclick"==e&&_.fo(f.La),"mousemove"==e&&_.ap(f)):_.$g(f);if("mousewheel"!=e&&(!d||"mousemove"!=e)){if("mousemove"==e||"move"==e)a.C=e,a.J=m,a.F=g;if(d||!a.get("panWhileDrawing"))"movestart"==e&&(d=!0),"moveend"==e&&(d=!1),f=Date.now(),"panbynow"==e?a.C&&vgb(a,a.C,a.J,f,a.F):vgb(a,e,m,f,g)}})});return c},xgb=function(a){const b=new _.RE(["map","drawingMode",
"pegmanDragging"],"active",(c,d,e)=>!!c&&!!d&&!e);b.bindTo("map",a);b.bindTo("drawingMode",a);a.h.bindTo("active",b);return b},ygb=function(a){const b=new _.RE(["draggableCursor","panWhileDrawing"],"cursor",(c,d)=>d?null:c);b.bindTo("panWhileDrawing",a);a.h.bindTo("draggableCursor",b,"cursor");return b},vgb=function(a,b,c,d,e){var f=a.get("map");if(a.g){var g=f.__gm.get("projectionController"),k=f.__gm.get("panes");if(g&&k&&(g=e||c,a.s&&g)){e=a.s.Ge(g);f=_.ro(e,f.getProjection());g=new _.oi(g.clientX,
g.clientY);(k=(k=a.get("snappingCallback"))&&k(a.g.J(f,e)))&&(f=k);k=!1;if("click"==b){if(300>=d-a.D&&a.l&&_.$f(a.l.x,g.x,a.m)&&_.$f(a.l.y,g.y,a.m))return;a.l=g;a.D=d;k=a.g.o(f,e)}else"dblclick"==b?k=a.g.M():"mousemove"==b?k=a.g.s(f,e):"movestart"==b?k=a.g.F(f,e):"move"==b?k=a.g.C(f,e):"moveend"==b&&(k=a.g.D(f,e));k&&c&&_.$g(c)}}},zgb=function(a){switch(a){case null:return null;case "Point":return"marker";case "LineString":return"polyline";case "Polygon":return"polygon";default:return null}},Egb=
class extends _.ph{constructor(a,b){function c(f,g,k,m){const q=_.Go("div",a);_.Dxa(q);q.style.lineHeight="0";g={title:g,Vq:k,Qu:m,padding:[4],Ct:!0,Nx:!0};k=_.Go("span");k.style.display="inline-block";const t=f||"hand",v=Agb[t],w=_.OE(d,k,new _.oi(0,v),Bgb);w.style.position="relative";const y=_.gH(q,k,f,g);_.bh(y,"active_changed",()=>{const B=y.get("active")?Cgb[t]:v;_.PE(w,Bgb,new _.oi(0,B))});y.bindTo("value",e,"drawingMode")}super();const d=_.Kk("drawing");a.setAttribute("role","menubar");const e=
this;c(null,"Stop drawing",!0,!b.length);_.yb(b,(f,g)=>{const k=Dgb[f||""];k&&c(f,k,!1,g===b.length-1)})}},Bgb=new _.qi(16,16),Cgb={hand:144,marker:112,polygon:96,polyline:128,rectangle:48,circle:0},Agb={hand:80,marker:176,polygon:64,polyline:32,rectangle:16,circle:160},Dgb={marker:"Add a marker",polygon:"Draw a shape",polyline:"Draw a line",rectangle:"Draw a rectangle",circle:"Draw a circle"};var Fgb=class extends _.ph{o(){return!1}M(){return!1}s(){return!1}F(){return!1}C(){return!1}D(){return!1}};var Ggb=class extends Fgb{constructor(a,b,c){super();this.m=a;this.K=b;this.N=c}J(a,b){ngb(this);f$(this,a,b);return{latLng:a,overlay:this.g}}active_changed(){if(this.get("active"))this.set("draggableCursor",this.K),this.set("draggingCursor","");else{const a=this.g;a&&(a.unbind("map"),a.set("map",null),this.g=null);this.i=this.h=null;this.l=!1}}o(a,b){this.h?ogb(this,a,b):(ngb(this),this.h=a,this.i=b,f$(this,a,b),this.l=!0);return!1}s(a,b){f$(this,a,b);return!1}F(a,b){if(this.l)return!1;this.set("draggingCursor",
this.K);this.set("enablePanning",!0);ngb(this);this.h=a;this.i=b;f$(this,a,b);return!0}C(a,b){if(this.l)return!1;f$(this,a,b);return!0}D(a,b){if(this.l)return!1;this.set("draggingCursor","");this.set("enablePanning",!1);ogb(this,a,b);return!0}};var Hgb=class{Pw(a){return new _.fj(a)}Sv(a,b,c){a.set("center",b);var d=0;const e=a.get("map");e&&c&&(d=e.__gm.get("baseMapType"),d=_.Gy(b,c,d&&d.radius));a.set("radius",d)}yx(){return"circle"}vx(){return"circlecomplete"}};var Igb=class extends Fgb{constructor(a){super();this.cursor=a;this.g=null}J(a){pgb(this);this.g.setPosition(a);return{latLng:a,overlay:this.g}}active_changed(){this.get("active")&&this.set("draggableCursor",this.cursor)}o(a){const b=this.get("map");pgb(this);this.g.setPosition(a);this.g.setMap(b);_.mh(this,"overlaycomplete",{type:"marker",overlay:this.g});_.mh(this,"markercomplete",this.g);_.hi(b,"DMmar");_.fi(b,147920);this.g=null;return!1}};var Jgb=class extends Fgb{constructor(a,b,c,d){super();this.h=a;this.i=b;this.l=c;this.m=d+1E-6;this.g=null;this.R=new _.oi(0,0);this.K=new _.oi(0,0);this.N=new _.oi(0,0)}J(a){this.g&&this.g.polyline||qgb(this);return{latLng:a,overlay:this.g.vu||this.g.polyline}}active_changed(){this.get("active")?this.set("draggableCursor",this.i):this.g&&this.g.polyline&&(null===this.get("drawingMode")?rgb(this):(this.g.polyline.unbind("map"),this.g.polyline.set("map",null),this.g.fh.unbind("map"),this.g.fh.set("map",
null),this.h&&this.g.vu.set("map",null),this.g=null))}o(a){if(!a)return!1;this.g?tgb(this,a):(qgb(this),h$(this,a));return!1}M(){this.g&&1<this.g.polyline.getPath().getLength()&&rgb(this);return!1}s(a){let b=a;this.g&&a&&(a=sgb(this,a),this.set("draggableCursor",a?"pointer":this.i),a&&(b=a.latLng),this.g.fh.set("freeVertexPosition",b));return!1}F(a){return a?this.get("drawPolysWithDrag")?(this.g||qgb(this),this.g.polyline.getPath().getLength()||h$(this,a),this.set("draggingCursor",this.i),!0):!1:
!1}C(a){return this.g&&this.get("drawPolysWithDrag")?(this.g.fh.set("freeVertexPosition",a),!0):!1}D(a){return a?this.get("drawPolysWithDrag")?(this.g&&(tgb(this,a),this.set("draggingCursor","")),this.g&&this.g.fh.set("freeVertexPosition",null),!0):!1:!1}drawPolysWithDrag_changed(){g$(this)}panWhileDrawing_changed(){g$(this)}};var Kgb=class{Pw(a){return new _.vk(a)}Sv(a,b,c,d=!1){c=c||b;let e=c.lat(),f=b.lat();b.lat()<c.lat()&&(e=b.lat(),f=c.lat());let g=b.lng(),k=c.lng();d&&(g=c.lng(),k=b.lng());b=_.Rh(e,g,f,k);a.set("bounds",b)}yx(){return"rectangle"}vx(){return"rectanglecomplete"}};var Lgb=class extends _.ph{constructor(){super();const a=this.h=wgb(this);this.K=xgb(this);var b="url("+_.wt+"crosshair.cur)";_.Lj.g&&(b+=" 7 7");b=`${b}, crosshair`;var c=ugb();this.m=6+(_.Lo()?9:0);this.i={circle:new Ggb(new Hgb,b,c),marker:new Igb(b),polygon:new Jgb(!0,b,c,this.m),polyline:new Jgb(!1,b,c,this.m),rectangle:new Ggb(new Kgb,b,c)};b=ygb(this);for(const d in this.i)c=this.i[d],c.bindTo("map",this),c.bindTo("drawingMode",this),c.bindTo("panWhileDrawing",this),c.bindTo("draggingCursor",
a),c.bindTo("draggableCursor",b),c.bindTo("enablePanning",a,"panAtEdge"),c.bindTo("options",this,`${d}Options`),_.lh(c,"overlaycomplete",this),_.lh(c,`${d}complete`,this);this.i.polygon.bindTo("drawPolysWithDrag",this);this.i.polyline.bindTo("drawPolysWithDrag",this);this.g=null;this.M=[];this.l=this.o=null;this.D=0;this.J=this.C=null;this.s=this.F=void 0}map_changed(){const a=this.get("map"),b=this.K,c=this.h;if(a){const d=a.__gm;d.vb.then(({fa:e})=>{this.s=e});this.bindTo("mouseEventTarget",d);
b.bindTo("pegmanDragging",d);c.bindTo("draggable",a);c.bindTo("scrollwheel",a);this.o=_.lh(c,"panbynow",d)}else this.unbind("mouseEventTarget"),this.set("mouseEventTarget",null),b.unbind("pegmanDragging"),c.unbind("draggable"),c.unbind("scrollwheel"),this.o&&(_.dh(this.o),this.o=null)}mouseEventTarget_changed(){const a=["panes","pixelBounds"];var b=this.h;_.yb(a,b.unbind,b);b=this.M;_.yb(b,_.dh);b.length=0;if(this.get("mouseEventTarget")){b=this.h;const c=this.get("map");_.Oz(b,a,c.__gm)}}drawingMode_changed(){this.g&&
this.g.set("active",!1);this.h.set("panAtEdge",!1);const a=this.get("drawingMode");(this.g=this.i[a])&&this.g.set("active",!0)}};var Ngb=class extends _.ph{constructor(a){super();this.Ea=new _.qj(()=>{this.g&&(this.i.cf(this.g),_.hk(this.g),this.g=null,this.h.unbindAll(),this.h=null);if((this.i=this.get("layoutManager"))&&0!=this.get("drawingControl")){const c=this.get("drawingControlOptions")||{},d=c.drawingModes||Mgb,e=document.createElement("div");_.IG(e);e.style.margin=_.eo(5);_.Ho(e,10);this.g=e;this.h=new Egb(this.g,d);this.h.bindTo("drawingMode",this);this.i.addElement(this.g,c.position||14,!1,.25)}},0);const b=new Lgb;
b.bindTo("map",a);b.bindTo("drawingMode",a);b.bindTo("panWhileDrawing",a);b.bindTo("markerOptions",a);b.bindTo("polygonOptions",a);b.bindTo("polylineOptions",a);b.bindTo("rectangleOptions",a);b.bindTo("circleOptions",a);b.bindTo("drawPolysWithDrag",a);_.lh(b,"overlaycomplete",a);_.lh(b,"circlecomplete",a);_.lh(b,"markercomplete",a);_.lh(b,"polygoncomplete",a);_.lh(b,"polylinecomplete",a);_.lh(b,"rectanglecomplete",a);this.bindTo("map",a);this.bindTo("drawingControl",a);this.bindTo("drawingControlOptions",
a);this.bindTo("drawingMode",a);this.set("snappingCallback",a.get("snappingCallback"));a.bindTo("snappingCallback",this);b.bindTo("snappingCallback",this);_.hi(a.get("map"),"DMnew");_.fi(a.get("map"),147919)}map_changed(){var a=this.get("map");a?(a=a.__gm,this.bindTo("layoutManager",a),a.set("snappingCallback",this.get("snappingCallback")),this.bindTo("snappingCallback",a)):(this.unbind("layoutManager"),this.set("layoutManager",null),this.unbind("snappingCallback"))}layoutManager_changed(){_.rj(this.Ea)}drawingControl_changed(){_.rj(this.Ea)}drawingControlOptions_changed(){_.rj(this.Ea)}},
Mgb=["marker","polyline","rectangle","circle","polygon"];_.Vg("drawing_impl",{Az:Ngb,dK:function(a){const b=new _.ph,c=new _.RE(["dataDrawingMode"],"drawingManagerMode",zgb);c.bindTo("dataDrawingMode",a,"drawingMode");const d=new _.RE(["styleOrStylingFunction"],"style",function(g){return"function"===typeof g?g(new _.nh):g});d.bindTo("styleOrStylingFunction",a,"style");const e=new _.RE(["controls","controlPosition"],"drawingControlOptions",function(g,k){return{drawingModes:_.ag(g,zgb),position:k}});e.bindTo("controls",a);e.bindTo("controlPosition",a);const f=
new _.RE(["controls"],"drawingControl",g=>!!g);f.bindTo("controls",a);b.bindTo("map",a);b.bindTo("drawingMode",c,"drawingManagerMode");b.bindTo("markerOptions",d,"style");b.bindTo("polylineOptions",d,"style");b.bindTo("polygonOptions",d,"style");b.bindTo("drawingControlOptions",e);b.bindTo("drawingControl",f);_.bh(b,"overlaycomplete",function(g){g=g.overlay;var k=_.mwa([g]);const m=a.get("featureFactory");k=m?m(k):new _.nh({geometry:k});a.add(k);g.set("map",null)});new Ngb(b);_.io(a,"map_changed",
function(){const g=a.get("map");g&&(_.hi(g,"Le"),_.fi(g,148236))})}});});
